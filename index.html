<!doctype html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <title>Chat App</title>
   <link rel="stylesheet" href="style.css" >
</head>
<body>
   <div id="container">
      <h1>Simple Chat Application</h1>
      <h4>Socket.io</h4>
      
      <div id="userContainer">
         <p>Create Username:</p>
         <form id="usernameForm">
            <input type="text" size="35" id="username">
            <input type="submit" value="Submit">
         </form>
      </div>

      <div id="mainContainer">
         <div id="userWrapper">
            <p>Current Users</p>
            <div id="users"></div>
         </div>
         
         <div id="chatWrapper">
            <div id="chatWindow"></div>
            <form id="messageForm">
               <input type="text" size="41" id="message" placeholder="Say Something...">
               <input type="submit" value="Submit">
            </form>
         </div>


      </div>
      
   </div>
   
   <script src="http://code.jquery.com/jquery-latest.min.js"></script>
	<script src="/socket.io/socket.io.js"></script>
	<script>
	$(function(){
		var socket = io.connect();
		var $messageForm = $('#messageForm');
		var $message = $('#message');
		var $chat = $('#chatWindow');

		$messageForm.submit(function(e){
			e.preventDefault();
			socket.emit('send message', $message.val());
			$message.val('');
		});

		socket.on('new message', function(data){
			$chat.append(data.msg +'<br>');
		});

	});
	</script>

</body>
</html>
